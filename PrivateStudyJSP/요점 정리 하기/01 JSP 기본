
JSP란?

Java Server Pages는 동적인 웹 페이지를 개발하기 위한 웹 프로그레밍 기술입니다. 이름에서 처럼 자바언어를 이용하여 서버측에서 웹 페이지들을 생성해 웹브라우저로 전송해줍니다. 자바를 서버 개발 언어로 자리 잡게 한 일등공신입니다.

* 짧은 고드로 동적인 웹 페이지를 생성할 수 있습니다.
* 기본적인 예외는 자동으로 처리됩니다.
* 많은 확장 라이브러리를 사용할 수 있습니다.
* 스레드 기반으로 실행되어 시스템 자원을 절약해줍니다.

JSP는 기업용자바 Enterprise Edition의 핵심요소 입니다.
최근엔 구글 앱 엔진과 아마존 웹 서비스(AWS)역시 지원하며 더욱 폭넓은 활용이 가능해졌습니다.

동적인 웹을 만들기 위해 jsp를 사용한다.

서블릿이란, 웹애플리케이션 전체가 클라이언트에 다운로드된 후 실행되는 자바 애플릿과 달리, 서버측에서 처리 후 결과만 보내주는 방식입니다.
서블릿은 자바파일을 컴파일한 클라스 파일을 관리하며 이런 프로그렘을 실행, 관리하는 런타임을 서블릿 컴테이너 라고 합니다.
대표적인 서블릿 컨테이너로는 아파치 톰캣이 있다.

서블릿은 자바를 베이스에 HTML이 들어간 형태이면, JSP는 HTML이 기본에 java문법이 들어간 형태입니다.

서블릿 
* 자바 코드 안에서 전체 HTML 페이지를 생성합니다.
* 변수 선언 및 최기화가 반드시 선행되어야 합니다
* 컨트롤러를 만들 때 사용합니다.

JSP
* HTML 코드안에서 필요한 부분만 자바코드를 스크립트 형태로 추가합니다.
* 자주 쓰이는 기능을 내장 객체로 제공하여 즉시 사용할 수 있습니다.
* 처리된 결과를 보여주는 뷰를 만들때 사용합니다.

정적페이지는 불러오기만 하면 되지만, 동적 페이지의 경우 서블릿을 생성하는 과정과 동적처리 요청등의 프로세스로인해 만들기 어렵고, 유지비도 많이 든다. 그래서 오늘날의 페이지는 두형테를 혼합한 형태를 띤다.

page 지시어 : JSP 페이지에 대한 정보를 설정합니다.
include 지시어 : 외부파일을 현재 jsp에 포함시킵니다.
taglib 지시어 : 표현언어에서 사용할 자바 클래스나 JSTL을 선언합니다.

info		페이지에 대한 설명을 입력합니다.
language	페이지에서 사용할 스크립팅 언어를 지정합니다.
contentType 페이지에서 생성할 MIME타입을 지정합니다.
pageEncoding charset과 같이 인코딩을 지정합니다.
import		페이지에서 사용할 자바 페키지와 클래스를 지정합니다.
session		세션 사용 여부를 지정합니다.
buffer		출력버퍼의 크기를 지정합니다 버퍼를 사용하지 않으려면 "none"으로 지정합니다.
autoFlush 	출력버퍼가 모두 채워졌을 때 자동으로 비울 지를 결정합니다. buffer 속성이 none일때 false로 지정하면 에러가 발생합니다.
trimDirectiveWhitespaces 지시어 선언으로 인한 공백을 제거할지 여부를 지정합니다.
errorPage 	해당 페이지에서 에러가 발생했을 때 에러발생여부를 보여줄 페이지를 지정합니다.
isErrorPage	해당페이지가 에러를 처리할지 여부를 지정합니다.

<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
위 문장을 설명하자면, java언어를 사용하며, 문서의 타입은 text/html이고, 인코딩타입은 UTF-8입니다.
이는 처음 이클립스에서 설정해줘야지 UTF-8로 바뀝니다. 바꾸지 않을 경우 ISO-8859-1 로 셋팅됩니다.

<%@ page import="java.text.SimpleDateFormat"%> // 이런식으로 자바 클래스 임포트
<%
Date today = new Date(); //html구문에 스크립틀릿으로 외부클래스 생성
%>

java.lang 페키지 이외의 것들은 이런 방식으로 import 시켜서 사용해야합니다.



버퍼란?
매번 서버를 오가며 자료를 전송하지 않고 모아뒀다가 한번에 보낼때 버퍼에 저장했다가 일정량이 되었을때 전송합니다.
이개념은 다양하게 사용되며, 가장 쉽게 접할 수 있는곳은 유튜브 같은 스트리밍입니다. 버퍼를 받는데 시간이 걸리는 경우에 버퍼링 이라고 주로 말합니다.

JSP에서는 버퍼를 사용함으로서 포워드(페이지전달)와 에러 페이지를 처리 할 수 있습니다.. JSP가 생성한 결과는 일단 버퍼에 저장하고, 실행중 에러가 발생할 시 저장된 내용을 삭제하고, 에러화면을 출력합니다.
이런 이유때문에 버퍼를 사용하지 않으면 에러페이지 출력이나, 포워드 기능을 이용할 수 없습니다.
autoFlush에서 true일 경우 버퍼가 채워지면 자동 출력, false일경우 예외를 반환합니다. 예외처리로, 버퍼를 처리합니다. 따로 설정하지 않을시 true로 동작하며, 8kb의 크기를 갖습니다. 이는 최대 8mb(8096)









